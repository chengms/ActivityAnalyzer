# 测试清单

## 🧪 功能测试清单

### 1. 基础功能测试

#### 应用启动
- [ ] 应用能正常启动
- [ ] 主窗口正常显示
- [ ] 数据库自动初始化
- [ ] 活动追踪器自动启动

#### 活动追踪
- [ ] 切换应用时能正确记录
- [ ] 窗口标题正确获取
- [ ] 时间记录准确
- [ ] 数据保存到数据库

#### 数据展示
- [ ] 日期选择器正常工作
- [ ] 汇总卡片显示正确数据
- [ ] 饼图正常渲染
- [ ] 应用排行列表显示
- [ ] 活动时间线显示

#### 报告生成
- [ ] Excel 报告能正常生成
- [ ] HTML 报告能正常生成
- [ ] 报告内容完整准确

---

### 2. 后台运行功能测试

#### 系统托盘
- [ ] 托盘图标正常显示
- [ ] 右键菜单正常显示
- [ ] "显示窗口"功能正常
- [ ] "设置"功能正常
- [ ] "退出"功能正常
- [ ] 双击托盘图标显示窗口

#### 窗口行为
- [ ] 关闭窗口后应用仍在运行（如果启用关闭到托盘）
- [ ] 最小化到托盘功能正常（如果启用）
- [ ] 关闭到托盘功能正常（如果启用）

---

### 3. 设置功能测试

#### 设置界面
- [ ] 设置按钮能打开设置面板
- [ ] 设置面板正常显示
- [ ] 所有设置项都能正常修改

#### 检测间隔设置
- [ ] 滑块能正常拖动
- [ ] 数字输入框能正常输入
- [ ] 保存后检测间隔立即生效
- [ ] 间隔范围限制正确（1-60秒）

#### 开机自启动
- [ ] 开关能正常切换
- [ ] 启用后注册表正确写入
- [ ] 禁用后注册表正确删除
- [ ] 重启电脑后验证自启动（需要手动测试）

#### 启动行为
- [ ] "启动时最小化"设置生效
- [ ] 启动时窗口正确隐藏（如果启用）

#### 窗口行为设置
- [ ] "最小化到托盘"设置生效
- [ ] "关闭到托盘"设置生效
- [ ] 设置保存后立即生效

---

### 4. 数据持久化测试

#### 设置持久化
- [ ] 设置保存后重启应用仍有效
- [ ] 设置文件正确创建
- [ ] 设置文件格式正确

#### 数据持久化
- [ ] 活动数据正确保存
- [ ] 重启应用后数据仍存在
- [ ] 数据库文件正确创建

---

### 5. 错误处理测试

#### 异常情况
- [ ] 图标文件不存在时应用仍能启动
- [ ] 数据库文件损坏时的处理
- [ ] 设置文件损坏时的处理
- [ ] 网络断开时的处理（如果有）

---

## 🐛 已知问题和注意事项

### Windows 平台特定
- 托盘图标可能需要实际图标文件才能正常显示
- 开机自启动需要管理员权限（某些情况下）
- PowerShell 命令执行可能需要权限

### 测试建议
1. **首次运行**：检查所有默认设置是否正确
2. **设置修改**：逐个测试每个设置项
3. **重启测试**：修改设置后重启应用验证持久化
4. **长时间运行**：让应用运行一段时间，检查数据记录
5. **边界测试**：测试极端值（如最小/最大检测间隔）

---

## 📝 测试步骤示例

### 测试检测间隔设置
1. 打开设置面板
2. 将检测间隔设置为 10 秒
3. 保存设置
4. 切换应用，观察是否按 10 秒间隔记录
5. 将检测间隔改回 5 秒
6. 验证是否立即生效

### 测试系统托盘
1. 启用"关闭到托盘"
2. 关闭主窗口
3. 检查系统托盘是否有图标
4. 右键点击托盘图标
5. 点击"显示窗口"，验证窗口重新显示
6. 双击托盘图标，验证窗口显示

### 测试开机自启动
1. 启用"开机自启动"
2. 保存设置
3. 重启电脑（或注销后重新登录）
4. 检查应用是否自动启动
5. 禁用"开机自启动"
6. 再次重启，验证应用不再自动启动

---

## ✅ 测试完成标准

所有核心功能测试通过：
- ✅ 应用能正常启动和运行
- ✅ 活动追踪功能正常
- ✅ 数据展示功能正常
- ✅ 报告生成功能正常
- ✅ 系统托盘功能正常
- ✅ 设置功能正常
- ✅ 数据持久化正常

